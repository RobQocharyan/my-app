{"version":3,"sources":["components/Content/Content.module.scss","App.module.scss","components/Sidebar/Categories/Category.module.scss","components/Sidebar/Sidebar.module.scss","components/Content/Image/Images.module.scss","components/Content/ShowMore/ShowMore.module.scss","Redux/selectors/sidebar-selector.ts","Api/api.ts","Redux/sidebar-reducer.ts","components/Sidebar/Categories/Category.tsx","components/Sidebar/Sidebar.tsx","Redux/main-reducer.ts","Redux/selectors/selector.ts","components/Content/Image/Images.tsx","components/Content/ShowMore/ShowMore.tsx","components/Content/Content.tsx","App.tsx","reportWebVitals.ts","Redux/store.ts","index.tsx"],"names":["module","exports","selectCategories","state","sidebar","categories","instance","axios","create","baseURL","api","getImages","id","a","get","result","data","getCategories","initialState","actions","type","payload","Category","React","memo","name","className","s","category","activeClassName","active","to","Sidebar","categoriesData","useSelector","dispatch","useDispatch","useEffect","map","c","images","selectImages","main","selectId","Image","height","width","url","image","src","alt","ShowMore","showMore","onClick","Content","history","useHistory","imagesData","pageId","pathName","location","pathname","Number","slice","loading","i","content","App","path","render","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","action","store","createStore","applyMiddleware","ThunkMiddleware","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c083dd93.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Content_content__156M4\",\"images\":\"Content_images__cD1DC\",\"loading\":\"Content_loading__2gIua\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__Idv2w\",\"content\":\"App_content__1nRod\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"category\":\"Category_category__3ZsS9\",\"active\":\"Category_active__3BMth\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Sidebar_sidebar__2JLhN\",\"categories\":\"Sidebar_categories__22VoG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"Images_image__1RCkO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"showMore\":\"ShowMore_showMore__3OmQa\"};","import { StateType } from \"../store\"\r\n\r\nexport const selectCategories = (state: StateType) => {\r\n  return state.sidebar.categories\r\n}","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n  baseURL: 'https://api.thecatapi.com/v1/'\r\n})\r\n\r\nexport const api = {\r\n  getImages: async(id: number) => {\r\n    const result = await instance.get(`images/search?limit=10&page=1&category_ids=${id}`)\r\n    return result.data\r\n  },\r\n  getCategories: async() => {\r\n    const result = await instance.get('categories')\r\n    return result.data\r\n  }\r\n}\r\n\r\n","import { Dispatch } from \"react\"\r\nimport { api } from \"../Api/api\"\r\nimport {  CategoryType} from \"../types\"\r\nimport { GetActionType } from \"./store\"\r\n\r\nconst initialState = {\r\n  categories: null as null | CategoryType[]\r\n}\r\n\r\ntype ActionType = GetActionType<typeof actions>\r\ntype InitialStateType = typeof initialState\r\n\r\nexport const sidebar_reducer = (state = initialState, action: ActionType ): InitialStateType => {\r\n  switch(action.type) {\r\n    case 'CATEGORIES_RECEIVED':\r\n    return {\r\n      ...state,\r\n      categories: action.payload.categories\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n\r\nconst actions = {\r\n  categories_received: (categories: CategoryType[]) => \r\n  ({type: 'CATEGORIES_RECEIVED', payload: {categories}} as const)\r\n}\r\n\r\nexport const getCategories = () => {\r\n  return async (dispatch: Dispatch<ActionType>) => {\r\n    const data = await api.getCategories()\r\n    dispatch(actions.categories_received(data))\r\n  }\r\n}\r\n\r\n","import React, { FC } from \"react\";\r\nimport s from \"./Category.module.scss\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\ntype CategoryPropsType = {\r\n  name: string;\r\n  id: number\r\n};\r\n\r\nexport const Category: FC<CategoryPropsType> = React.memo(({ name, id }) => {\r\n  return (\r\n    <div className={s.category}>\r\n      <NavLink activeClassName={s.active} to={`${id}`}>\r\n        {name}\r\n      </NavLink>\r\n    </div>\r\n  );\r\n});\r\n","import React, { FC, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { selectCategories } from \"../../Redux/selectors/sidebar-selector\";\r\nimport { getCategories } from \"../../Redux/sidebar-reducer\";\r\nimport { Category } from \"./Categories/Category\";\r\nimport s from './Sidebar.module.scss';\r\n\r\nexport const Sidebar: FC = React.memo(() => {\r\n\r\n  const categoriesData = useSelector(selectCategories) \r\n  const dispatch = useDispatch()\r\n\r\n  useEffect(() => {\r\n    dispatch(getCategories())\r\n  }, [dispatch])\r\n  \r\n  const category = categoriesData?.map((c) => {\r\n    return <Category key={c.id} id={c.id} name={c.name}/>\r\n  })\r\n\r\n  return (\r\n    <div className={s.sidebar}>\r\n        <div className={s.categories}>\r\n            {category}\r\n        </div>\r\n    </div>\r\n  )\r\n})","import { Dispatch } from \"react\"\r\nimport { api } from \"../Api/api\"\r\nimport { ImagesType } from \"../types\"\r\nimport { GetActionType } from \"./store\"\r\n\r\nconst initialState = {\r\n  images: null as null | ImagesType[],\r\n  id: 1\r\n}\r\n\r\ntype ActionType = GetActionType<typeof actions>\r\ntype InitialStateType = typeof initialState\r\n\r\nexport const main_reducer = (state = initialState, action: ActionType): InitialStateType => {\r\n  switch (action.type) {\r\n    case 'IMAGES_RECEIVED':\r\n      return {\r\n        ...state,\r\n        images: action.payload.images\r\n      }\r\n    case 'SET_ID':\r\n      return {\r\n        ...state,\r\n        id: action.payload.id\r\n      }\r\n    case 'SHOW_MORE_IMAGES':\r\n      return {\r\n        ...state,\r\n        images: state.images === null ? null : [...state.images, ...action.payload.images]\r\n      }\r\n    case 'CLEAN_IMAGES':\r\n      return {\r\n        ...state,\r\n        images: null\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n\r\nexport const actions = {\r\n  images_received: (images: ImagesType[]) =>\r\n    ({ type: 'IMAGES_RECEIVED', payload: { images } } as const),\r\n  setId: (id: number) =>\r\n    ({ type: 'SET_ID', payload: { id } } as const),\r\n  showMore: (images: ImagesType[]) =>\r\n    ({ type: 'SHOW_MORE_IMAGES', payload: { images } } as const),\r\n  cleanImages: () =>\r\n    ({ type: \"CLEAN_IMAGES\", } as const)\r\n}\r\n\r\nexport const getImages = (id: number) => {\r\n  return async (dispatch: Dispatch<ActionType>) => {\r\n    dispatch(actions.cleanImages())\r\n    const data = await api.getImages(id)\r\n    dispatch(actions.images_received(data))\r\n  }\r\n}\r\n\r\nexport const showMore = (id: number) => {\r\n  return async (dispatch: Dispatch<ActionType>) => {\r\n    const data = await api.getImages(id)\r\n    dispatch(actions.showMore(data))\r\n  }\r\n}\r\n","import { StateType } from \"../store\"\r\n\r\nexport const selectImages = (state: StateType) => {\r\n  return state.main.images\r\n}\r\n\r\nexport const selectId = (state: StateType) => {\r\n  return state.main.id\r\n}","import React, { FC } from \"react\";\r\nimport s from './Images.module.scss';\r\n\r\n\r\ntype ImagesPropsType = {\r\n  height: number\r\n  width: number\r\n  url: string\r\n}\r\n\r\nexport const Image: FC<ImagesPropsType> = React.memo(({height, width, url}) => {\r\n  return (\r\n    <div className={s.image}>\r\n      <img height={height} width={width} src={url} alt=\"img\" />\r\n    </div>\r\n  )\r\n})\r\n","  import React, { FC } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {  showMore } from \"../../../Redux/main-reducer\";\r\nimport { selectId } from \"../../../Redux/selectors/selector\";\r\nimport s from \"./ShowMore.module.scss\";\r\n\r\nexport const ShowMore: FC = React.memo(() => {\r\n\r\n  const dispatch = useDispatch()\r\n  const id = useSelector(selectId)\r\n  \r\n  return (\r\n    <div className={s.showMore}>\r\n      <button onClick={() => {\r\n        dispatch(showMore(id))\r\n      }}>\r\n        Show More\r\n      </button>\r\n    </div>\r\n  );\r\n});\r\n","import React, { FC, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { actions, getImages } from \"../../Redux/main-reducer\";\r\nimport { selectId, selectImages } from \"../../Redux/selectors/selector\";\r\nimport { Image } from \"./Image/Images\";\r\nimport s from \"./Content.module.scss\";\r\nimport { ShowMore } from \"./ShowMore/ShowMore\";\r\n\r\n\r\nexport const Content: FC = React.memo(() => {\r\n\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const imagesData = useSelector(selectImages);\r\n  const pageId = useSelector(selectId)\r\n  \r\n  const pathName = history.location.pathname;\r\n  const id = Number(pathName.slice(1));\r\n\r\n  if(id) {\r\n    dispatch(actions.setId(id))\r\n  }\r\n  \r\n  useEffect(() => {\r\n    dispatch(getImages(pageId));\r\n  }, [pageId, dispatch]);\r\n\r\n  if (!imagesData) {\r\n    return <div className={s.loading}>...loading</div>;\r\n  }\r\n\r\n  const images = imagesData.map((i) => {\r\n    return <Image key={i.id} height={i.height} width={i.width} url={i.url} />;\r\n  });\r\n\r\n  return (\r\n    <div className={s.content}>\r\n      <div className={s.images}>\r\n        {images}\r\n        </div>\r\n        <div>\r\n          <ShowMore />\r\n        </div>\r\n    </div>\r\n  );\r\n});\r\n","import React from \"react\";\nimport s from \"./App.module.scss\";\nimport { Route } from \"react-router-dom\";\nimport { useSelector } from 'react-redux'\nimport { Sidebar } from \"./components/Sidebar/Sidebar\";\nimport { selectCategories } from \"./Redux/selectors/sidebar-selector\";\nimport { Content } from \"./components/Content/Content\";\n\nfunction App() {\n\n  const categoriesData = useSelector(selectCategories)\n  const categories = categoriesData?.map((c) => {\n    return <Route path={`/${c.id}`} render={() => {\n      return <Content />\n    }} />\n  })\n\n\n  return (\n    <div className={s.App}>\n      <Sidebar />\n      <div className={s.content}>\n        {categories}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { applyMiddleware, combineReducers, createStore } from \"redux\";\r\nimport { main_reducer } from \"./main-reducer\";\r\nimport  ThunkMiddleware  from \"redux-thunk\";\r\nimport { sidebar_reducer } from \"./sidebar-reducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n  main: main_reducer,\r\n  sidebar: sidebar_reducer\r\n})\r\n\r\nexport type StateType = ReturnType<typeof rootReducer>\r\ntype ActionType<T> = T extends {[key: string]: infer U} ? U : never;\r\nexport type GetActionType<T extends {[key: string]: (...args: any[])=> any}> = ReturnType<ActionType<T>> \r\n\r\nexport const store = createStore(rootReducer, applyMiddleware(ThunkMiddleware))","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { HashRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { store } from './Redux/store';\n\nReactDOM.render(\n  <HashRouter>\n    <Provider store={store}>\n      <React.StrictMode>\n        <App />\n      </React.StrictMode>\n    </Provider>\n  </HashRouter >,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}